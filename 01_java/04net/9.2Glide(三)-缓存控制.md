https://blog.csdn.net/guolin_blog/article/details/54895665



#### Glide高效缓存实现

- 缓存种类：
  - 活动缓存
  - 内存缓存
  - 磁盘缓存
- Key的生成：key生成的参数有10多个，当不用的尺寸生成的key也不一样
- 其中内存缓存使用的LRUCache（底层使用 最近最少使用算法）
- 活动缓存：
  - 缓存的是正在使用的图片资源，当图片从内存缓存中获取后，内存缓存会删除该资源
  - 活动缓存会保存该资源，并调用acquire方法，设置图片的引用计数增加，让图片不再使用，则调用release方法，图片的引用计数减少，当没有引用时，则将该资源缓存到内存缓存中
  - 活动缓存的作用是保护资源不被内存缓存回收
- 活动缓存的作用：
  - 核心问题点：内存缓存使用的是LRUCache，底层使用的算法是：最近最少使用
  - 如果一张图片从内存缓存中获取后，并展示在界面上，当界面上有非常多图片需要展示时（上百个），如果没有活动缓存，这么多图片从网络获取后，展示并且保存到内存缓存中，当超过缓存最大值时，则会将最早开始缓存的图片丢弃，这样的后果就是当前正在使用的图片资源在内存缓存中没有了

















